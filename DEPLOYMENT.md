# Инструкция по загрузке и обновлению сервера

## Варианты деплоя

### Вариант 1: Через SSH (если есть доступ к серверу)

Если у вас есть SSH доступ к серверу, это самый простой способ:

```bash
# 1. Подключитесь к серверу
ssh username@moisei.uk
# или
ssh username@your-server-ip

# 2. Перейдите в директорию сайта
cd /path/to/website
# Обычно это что-то вроде:
# cd /var/www/moisei.uk
# или
# cd /home/username/public_html
# или
# cd ~/www

# 3. Получите последние изменения из GitHub
git pull origin master

# 4. Если есть Node.js сервер, перезапустите его
cd server
npm install  # если были добавлены новые зависимости
pm2 restart moisei  # если используете PM2
# или
systemctl restart moisei  # если используете systemd
# или просто перезапустите процесс вручную
```

### Вариант 2: Через FTP/SFTP (FileZilla, Cyberduck и т.д.)

Если у вас нет SSH доступа, используйте FTP клиент:

1. **Подключитесь к серверу через FTP:**
   - Хост: `moisei.uk` или IP адрес сервера
   - Порт: `21` (FTP) или `22` (SFTP)
   - Логин и пароль: ваши учетные данные

2. **Загрузите файлы:**
   - Перейдите в корневую директорию сайта (обычно `public_html`, `www`, или `htdocs`)
   - Загрузите все новые favicon файлы:
     - `favicon.ico`
     - `favicon-16x16.png`
     - `favicon-32x32.png`
     - `favicon-48x48.png`
     - `favicon-96x96.png`
     - `favicon-144x144.png`
     - `favicon-192x192.png`
     - `favicon-512x512.png`
     - `favicon.svg` (если его еще нет)
   - Замените обновленные HTML файлы:
     - `index.html`
     - `food-menu.html`
     - `drink-menu.html`
     - `hookah-menu.html`
     - `reservation.html`

3. **Проверьте права доступа:**
   - Файлы должны быть доступны для чтения (обычно `644`)
   - Папки должны иметь права `755`

### Вариант 3: Автоматический деплой через GitHub (если настроен)

Если на сервере настроен автоматический деплой (webhook или CI/CD):

1. Изменения уже отправлены в GitHub (мы это сделали)
2. Если настроен автоматический деплой, сервер должен автоматически обновиться
3. Проверьте логи деплоя в панели управления хостингом

### Вариант 4: Через панель управления хостингом (cPanel, Plesk и т.д.)

1. Войдите в панель управления хостингом
2. Найдите "Файловый менеджер" или "File Manager"
3. Перейдите в корневую директорию сайта
4. Загрузите файлы через веб-интерфейс:
   - Загрузите все favicon файлы
   - Замените обновленные HTML файлы

## Проверка после деплоя

После загрузки файлов проверьте:

1. **Доступность favicon файлов:**
   - Откройте в браузере: `https://moisei.uk/favicon.ico`
   - Откройте: `https://moisei.uk/favicon-96x96.png`
   - Откройте: `https://moisei.uk/favicon-144x144.png`

2. **Проверка HTML:**
   - Откройте `https://moisei.uk/`
   - Откройте исходный код страницы (Ctrl+U или Cmd+Option+U)
   - Убедитесь, что в `<head>` есть ссылки на favicon

3. **Проверка в браузере:**
   - Откройте сайт в браузере
   - Проверьте вкладку браузера - должна отображаться иконка "M"

## Если используется Node.js сервер

Если у вас запущен Node.js сервер для API (папка `server/`):

1. **Остановите сервер** (если он запущен)
2. **Обновите зависимости** (если нужно):
   ```bash
   cd server
   npm install
   ```
3. **Перезапустите сервер:**
   ```bash
   # Если используете PM2:
   pm2 restart moisei
   
   # Если используете systemd:
   systemctl restart moisei
   
   # Если запускаете вручную:
   node server.js
   # или
   npm start
   ```

## Структура файлов на сервере

Убедитесь, что структура файлов на сервере выглядит так:

```
/
├── index.html
├── food-menu.html
├── drink-menu.html
├── hookah-menu.html
├── reservation.html
├── favicon.ico          ← новый
├── favicon.svg
├── favicon-16x16.png    ← новый
├── favicon-32x32.png    ← новый
├── favicon-48x48.png    ← новый
├── favicon-96x96.png    ← новый
├── favicon-144x144.png  ← новый
├── favicon-192x192.png  ← новый
├── favicon-512x512.png  ← новый
├── assets/
│   ├── css/
│   ├── js/
│   └── images/
├── server/              (если используется)
│   ├── server.js
│   └── ...
└── ...
```

## Важные замечания

1. **Резервная копия:** Перед обновлением сделайте резервную копию текущих файлов
2. **Права доступа:** Убедитесь, что файлы имеют правильные права доступа (обычно 644 для файлов, 755 для папок)
3. **Кэш браузера:** После обновления очистите кэш браузера или используйте режим инкогнито для проверки
4. **Google Search Console:** После деплоя запросите переиндексацию в Google Search Console

## Быстрая проверка командой

Если у вас есть SSH доступ, можете использовать эту команду для проверки:

```bash
# Проверка наличия всех favicon файлов
ls -lh /path/to/website/favicon* | cat

# Проверка содержимого HTML (должны быть ссылки на favicon)
grep -n "favicon" /path/to/website/index.html | head -10
```

## Проблемы и решения

**Проблема:** Файлы не отображаются после загрузки
- **Решение:** Проверьте права доступа файлов (должны быть 644)
- Проверьте, что файлы загружены в правильную директорию

**Проблема:** Старая иконка все еще отображается
- **Решение:** Очистите кэш браузера (Ctrl+Shift+Delete)
- Проверьте, что файлы действительно обновлены на сервере

**Проблема:** 404 ошибка для favicon файлов
- **Решение:** Убедитесь, что файлы загружены в корневую директорию сайта
- Проверьте, что пути в HTML правильные (начинаются с `/`)


